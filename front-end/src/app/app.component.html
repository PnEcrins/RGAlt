<mat-toolbar>
  <button *ngIf="backButton" (click)="handleBackButton()" mat-icon-button>
    <mat-icon>arrow_back</mat-icon>
  </button>
  <a *ngIf="!backButton" routerLink="/" class="logo-container">
    <img src="favicon.ico" />
  </a>
  <span>{{ title }}</span>
  <span class="toolbar-spacer"></span>
  <button *ngIf="accountButton" mat-icon-button (click)="sidenav.toggle()">
    <mat-icon aria-hidden="false" [matBadge]="observationsPending"
      >account_circle</mat-icon
    >
  </button>
</mat-toolbar>

<mat-sidenav-container [style.marginTop.px]="0">
  <mat-sidenav
    #sidenav
    mode="over"
    fixedInViewport="true"
    fixedTopGap="56"
    position="end"
  >
    <mat-nav-list>
      @for (
        currentSideNavItem of currentSideNavItems;
        track currentSideNavItem.id;
        let last = $last
      ) {
        <a
          mat-list-item
          [routerLink]="currentSideNavItem.routerLink"
          (click)="
            !currentSideNavItem.routerLink ? currentSideNavItem.click() : null
          "
        >
          <div [matBadge]="currentSideNavItem.observationsPending">
            {{ currentSideNavItem.text }}
          </div>
        </a>
        <mat-divider *ngIf="!last"></mat-divider>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <main>
      <router-outlet />
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
